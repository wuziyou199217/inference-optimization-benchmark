2021-12-20 15:24:52,981 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Enable SLS, effective endpoint: http://cn-shanghai.log.aliyuncs.com
2021-12-20 15:24:53,189 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] Eas daemon is offline
2021-12-20 15:24:53,303 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:24:53,971 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Begin of combine_info_with_blade_config
2021-12-20 15:24:53,971 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Combine frozen pb info with blade config
2021-12-20 15:24:53,976 [7250] [WARNING ] [deprecation.py:339] From benchmark_simple_blade_resnet50_v1.py:155: remove_training_nodes (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.remove_training_nodes`
2021-12-20 15:24:54,762 [7250] [WARNING ] [deprecation.py:339] From benchmark_simple_blade_resnet50_v1.py:155: extract_sub_graph (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.extract_sub_graph`
2021-12-20 15:24:55,660 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
2021-12-20 15:24:57,320 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/input2tbkea4v.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/output60p9qo63.npy in subproc_run
2021-12-20 15:24:57,320 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/input2tbkea4v.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/output60p9qo63.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:24:58,443 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:24:58,442 [7325] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/input2tbkea4v.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/output60p9qo63.npy']

2021-12-20 15:24:58,444 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:24:58,443 [7325] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/input2tbkea4v.npy

2021-12-20 15:25:00,813 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:00,813 [7325] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:25:00,820 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:00,819 [7325] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:25:06,479 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:06,478 [7325] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/output60p9qo63.npy

2021-12-20 15:25:07,563 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/input2tbkea4v.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_hkje2ze__20211220152456/output60p9qo63.npy
2021-12-20 15:25:07,565 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 3766.966, env config: {}

2021-12-20 15:25:08,676 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/inputczwf265b.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/outputokcrnxix.npy in subproc_run
2021-12-20 15:25:08,676 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/inputczwf265b.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/outputokcrnxix.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:25:09,776 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:25:09,775 [7375] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/inputczwf265b.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/outputokcrnxix.npy']

2021-12-20 15:25:09,776 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:09,775 [7375] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/inputczwf265b.npy

2021-12-20 15:25:12,081 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:12,081 [7375] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:25:12,087 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:12,087 [7375] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:25:19,487 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:19,487 [7375] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/outputokcrnxix.npy

2021-12-20 15:25:20,548 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/inputczwf265b.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_usia2074_20211220152507/outputokcrnxix.npy
2021-12-20 15:25:20,550 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 7.828, env config: {}

2021-12-20 15:25:20,868 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Test data information, source: TestDataSource.USER_PROVIDED, shape variation: ShapeVariation.STATIC, info: [<blade.data.data.DataInfo object at 0x7f5b8e753cc0>]
2021-12-20 15:25:21,553 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] requires pygraphviz http://pygraphviz.github.io/
Failed to generate png for visualizing the graph, but it will not influence the optimization process. This issue may be caused by the missing of pygraphviz/graphviz-dev. If you want to see the png, try to install them and call the blade again.
2021-12-20 15:25:21,553 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] requires pygraphviz http://pygraphviz.github.io/
Failed to export digraph, but it will not influence the optimization process. This issue may be caused by the missing of pygraphviz/graphviz-dev. If you want to see the digraph, try to install them and call the blade again.
2021-12-20 15:25:21,851 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStaticBilstmOpt:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:21,897 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:25:21,920 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:25:23,476 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:23,499 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:25:23,522 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:25:24,753 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:24,753 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:24,755 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:24,803 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfWeightAdjustment:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:25,122 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfRemoveIdentityN:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:25,146 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt.py`, cwd: /root/inference-optimization-benchmark/blade, timeout: 7200.0, shell mode: False
2021-12-20 15:25:27,749 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes

2021-12-20 15:25:28,149 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt.py
2021-12-20 15:25:28,149 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtInt8:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:28,153 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:28,225 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] transform: strip_unused_nodes
2021-12-20 15:25:29,547 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStripUnusedNodes:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:31,127 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldConstants:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:25:31,211 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:25:32,759 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Found 53 optimizable batch norm ops
2021-12-20 15:25:32,759 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['merge_duplicate_nodes']
2021-12-20 15:25:33,978 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['strip_unused_nodes']
2021-12-20 15:25:35,125 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['sort_by_execution_order']
2021-12-20 15:25:37,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputaxlpec61.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputeij_zgcv.npy in subproc_run
2021-12-20 15:25:37,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputaxlpec61.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputeij_zgcv.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:25:38,532 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:25:38,531 [7443] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputaxlpec61.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputeij_zgcv.npy']

2021-12-20 15:25:38,532 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:38,532 [7443] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputaxlpec61.npy

2021-12-20 15:25:40,831 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:40,830 [7443] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:25:40,837 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:40,837 [7443] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:25:46,442 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:46,441 [7443] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputeij_zgcv.npy

2021-12-20 15:25:47,527 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputaxlpec61.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputeij_zgcv.npy
2021-12-20 15:25:47,528 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 9.418, env config: {}

2021-12-20 15:25:48,745 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputmoivmc4s.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputqlvh51qf.npy in subproc_run
2021-12-20 15:25:48,745 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputmoivmc4s.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputqlvh51qf.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:25:49,861 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:25:49,860 [7490] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputmoivmc4s.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputqlvh51qf.npy']

2021-12-20 15:25:49,861 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:49,861 [7490] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputmoivmc4s.npy

2021-12-20 15:25:52,126 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:52,126 [7490] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:25:52,132 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:52,132 [7490] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:25:57,678 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:25:57,678 [7490] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputqlvh51qf.npy

2021-12-20 15:25:58,720 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/inputmoivmc4s.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6pz3h421_20211220152536/outputqlvh51qf.npy
2021-12-20 15:25:58,722 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 9.858, env config: {}

2021-12-20 15:25:58,726 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldBatchNorms:{'kind': 'success', 'speedup': 0.9552895793316473, 'pre_run_ms': 9.417665001004934, 'post_run_ms': 9.85844000056386, 'pattern_count': 0}
2021-12-20 15:25:58,746 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to perform blade int8 quantization.
2021-12-20 15:25:58,779 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:26:01,496 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['merge_duplicate_nodes']
2021-12-20 15:26:01,905 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['strip_unused_nodes']
2021-12-20 15:26:02,234 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['sort_by_execution_order']
2021-12-20 15:26:02,558 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Blade int8 layout optimization
2021-12-20 15:26:03,362 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['merge_duplicate_nodes']
2021-12-20 15:26:03,823 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['strip_unused_nodes']
2021-12-20 15:26:04,198 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['sort_by_execution_order']
2021-12-20 15:26:04,819 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputzq003cvz.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output1p1mylfd.npy in subproc_run
2021-12-20 15:26:04,820 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputzq003cvz.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output1p1mylfd.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:26:05,938 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:26:05,938 [7537] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputzq003cvz.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output1p1mylfd.npy']

2021-12-20 15:26:05,939 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:05,938 [7537] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputzq003cvz.npy

2021-12-20 15:26:07,638 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:07,638 [7537] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:26:07,640 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:07,640 [7537] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:26:26,306 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:26,305 [7537] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output1p1mylfd.npy

2021-12-20 15:26:27,241 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputzq003cvz.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output1p1mylfd.npy
2021-12-20 15:26:27,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 135.091, env config: {}

2021-12-20 15:26:27,544 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputuvwfkwwu.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output6th9tohl.npy in subproc_run
2021-12-20 15:26:27,544 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputuvwfkwwu.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output6th9tohl.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:26:28,663 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:26:28,663 [7582] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputuvwfkwwu.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output6th9tohl.npy']

2021-12-20 15:26:28,664 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:28,663 [7582] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputuvwfkwwu.npy

2021-12-20 15:26:30,349 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:30,349 [7582] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:26:30,351 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:30,351 [7582] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:26:38,343 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:38,343 [7582] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output6th9tohl.npy

2021-12-20 15:26:39,263 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/inputuvwfkwwu.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_qdpixkl4_20211220152604/output6th9tohl.npy
2021-12-20 15:26:39,265 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 36.298, env config: {}

2021-12-20 15:26:40,741 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['merge_duplicate_nodes']
2021-12-20 15:26:41,224 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['strip_unused_nodes']
2021-12-20 15:26:41,572 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['sort_by_execution_order']
2021-12-20 15:26:41,929 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Blade int8 layout optimization
2021-12-20 15:26:42,417 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['merge_duplicate_nodes']
2021-12-20 15:26:42,818 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['strip_unused_nodes']
2021-12-20 15:26:43,159 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['sort_by_execution_order']
2021-12-20 15:26:44,174 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input0dzij0bq.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/output1ivarq01.npy in subproc_run
2021-12-20 15:26:44,175 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input0dzij0bq.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/output1ivarq01.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:26:45,303 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:26:45,302 [7627] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input0dzij0bq.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/output1ivarq01.npy']

2021-12-20 15:26:45,303 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:45,303 [7627] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input0dzij0bq.npy

2021-12-20 15:26:47,006 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:47,006 [7627] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:26:47,008 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:26:47,007 [7627] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:27:05,728 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:05,728 [7627] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/output1ivarq01.npy

2021-12-20 15:27:06,653 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input0dzij0bq.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/output1ivarq01.npy
2021-12-20 15:27:06,654 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 135.361, env config: {}

2021-12-20 15:27:07,004 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input09t2git9.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/outputcif1d1cy.npy in subproc_run
2021-12-20 15:27:07,004 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input09t2git9.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/outputcif1d1cy.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:27:08,129 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:27:08,128 [7673] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input09t2git9.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/outputcif1d1cy.npy']

2021-12-20 15:27:08,129 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:08,129 [7673] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input09t2git9.npy

2021-12-20 15:27:09,811 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:09,811 [7673] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:27:09,812 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:09,812 [7673] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:27:18,198 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:18,198 [7673] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/outputcif1d1cy.npy

2021-12-20 15:27:19,109 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/input09t2git9.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_4xj98nar_20211220152643/outputcif1d1cy.npy
2021-12-20 15:27:19,111 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 36.413, env config: {}

2021-12-20 15:27:19,471 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/input2ur9rr5w.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputejsqyhf9.npy in subproc_run
2021-12-20 15:27:19,471 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/input2ur9rr5w.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputejsqyhf9.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:27:20,612 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:27:20,612 [7718] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/input2ur9rr5w.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputejsqyhf9.npy']

2021-12-20 15:27:20,613 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:20,612 [7718] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/input2ur9rr5w.npy

2021-12-20 15:27:22,354 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:22,354 [7718] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:27:22,356 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:22,355 [7718] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:27:30,408 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:30,408 [7718] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputejsqyhf9.npy

2021-12-20 15:27:31,354 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/input2ur9rr5w.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputejsqyhf9.npy
2021-12-20 15:27:31,355 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 36.347, env config: {}

2021-12-20 15:27:31,708 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/inputseecr0lx.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputb6x3_by8.npy in subproc_run
2021-12-20 15:27:31,708 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/inputseecr0lx.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputb6x3_by8.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:27:32,865 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:27:32,864 [7762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/inputseecr0lx.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputb6x3_by8.npy']

2021-12-20 15:27:32,865 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:32,865 [7762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/inputseecr0lx.npy

2021-12-20 15:27:34,585 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:34,585 [7762] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:27:34,587 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:34,587 [7762] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:27:42,816 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:42,816 [7762] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputb6x3_by8.npy

2021-12-20 15:27:43,759 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/inputseecr0lx.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_kkkr48vg_20211220152719/outputb6x3_by8.npy
2021-12-20 15:27:43,760 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 36.466, env config: {}

2021-12-20 15:27:44,980 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputd63qk36o.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/outputzh97313s.npy in subproc_run
2021-12-20 15:27:44,980 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputd63qk36o.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/outputzh97313s.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:27:46,112 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:27:46,111 [7807] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputd63qk36o.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/outputzh97313s.npy']

2021-12-20 15:27:46,113 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:46,112 [7807] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputd63qk36o.npy

2021-12-20 15:27:48,402 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:48,401 [7807] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:27:48,408 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:48,408 [7807] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:27:55,754 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:55,754 [7807] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/outputzh97313s.npy

2021-12-20 15:27:56,806 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputd63qk36o.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/outputzh97313s.npy
2021-12-20 15:27:56,808 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 8.172, env config: {}

2021-12-20 15:27:57,149 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputc4q6iq55.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/output80kh3tlh.npy in subproc_run
2021-12-20 15:27:57,150 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputc4q6iq55.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/output80kh3tlh.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:27:58,278 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:27:58,277 [7854] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputc4q6iq55.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/output80kh3tlh.npy']

2021-12-20 15:27:58,279 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:58,278 [7854] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputc4q6iq55.npy

2021-12-20 15:27:59,987 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:59,987 [7854] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:27:59,989 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:27:59,989 [7854] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:28:08,165 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:28:08,165 [7854] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/output80kh3tlh.npy

2021-12-20 15:28:09,083 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/inputc4q6iq55.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_w1xk3zsf_20211220152743/output80kh3tlh.npy
2021-12-20 15:28:09,085 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 36.285, env config: {}

2021-12-20 15:28:09,092 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfBladeInt8:{'kind': 'performace_failed', 'speedup': 0.225215693471072, 'pre_run_ms': 8.171929629966616, 'post_run_ms': 36.28490317001939, 'pattern_count': 0}
2021-12-20 15:28:09,095 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': 0.9552895793316473, 'pre_run_ms': 9.417665001004934, 'post_run_ms': 9.85844000056386, 'pattern_count': 0}
2021-12-20 15:28:09,099 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'success', 'speedup': 0.9552895793316473, 'pre_run_ms': 9.417665001004934, 'post_run_ms': 9.85844000056386, 'pattern_count': 0}
2021-12-20 15:28:09,101 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': 0.9552895793316473, 'pre_run_ms': 9.417665001004934, 'post_run_ms': 9.85844000056386, 'pattern_count': 0}
2021-12-20 15:28:09,163 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfRemoveIdentityN:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:28:11,709 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Performing "/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_input_xce152u.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_outputq_ct3doy.npy"
2021-12-20 15:28:11,709 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_input_xce152u.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_outputq_ct3doy.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 60.0, shell mode: True
2021-12-20 15:28:14,441 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:28:14,440 [7899] [INFO    ] [tf_trt_plus_helper.py:18] Load tf2trt_plus helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_input_xce152u.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_outputq_ct3doy.npy']

2021-12-20 15:28:14,441 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:28:14,441 [7899] [INFO    ] [tf_trt_plus_helper.py:18] Load tf2trt_plus helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_input_xce152u.npy

2021-12-20 15:28:15,265 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:28:15,265 [7899] [WARNING ] [tf_trt_plus_helper.py:18] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:28:16,498 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:28:16,498 [7899] [INFO    ] [tf_trt_plus_helper.py:18] Save tf2trt_plus subgraph results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_outputq_ct3doy.npy

2021-12-20 15:28:17,023 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_input_xce152u.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_t63k5vv1_20211220152810/tf2trt_plus_outputq_ct3doy.npy
2021-12-20 15:28:18,159 [7250] [WARNING ] [deprecation.py:339] From /usr/local/lib/python3.6/dist-packages/tf2onnx/tf_loader.py:305: convert_variables_to_constants (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.convert_variables_to_constants`
2021-12-20 15:28:19,915 [7250] [INFO    ] [tfonnx.py:414] Using tensorflow=2.4.0, onnx=1.10.2, tf2onnx=1.9.3/1190aa
2021-12-20 15:28:19,915 [7250] [INFO    ] [tfonnx.py:415] Using opset <onnx, 9>
2021-12-20 15:28:20,414 [7250] [INFO    ] [tf_utils.py:278] Computed 0 values for constant folding
2021-12-20 15:28:21,507 [7250] [INFO    ] [__init__.py:48] Optimizing ONNX model
2021-12-20 15:28:23,257 [7250] [INFO    ] [__init__.py:83] After optimization: Add -4 (20->16), Const -1 (109->108), GlobalAveragePool +1 (0->1), Identity -4 (4->0), ReduceMean -1 (1->0), Transpose -115 (116->1)
2021-12-20 15:28:23,279 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Fp16 optimization enabled for tensorrt in Tf2TrtPlus pass
2021-12-20 15:28:56,040 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:28:58,325 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputo8zkr27p.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputjjscgemh.npy in subproc_run
2021-12-20 15:28:58,325 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputo8zkr27p.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputjjscgemh.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:28:59,513 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:28:59,512 [7969] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputo8zkr27p.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputjjscgemh.npy']

2021-12-20 15:28:59,513 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:28:59,513 [7969] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputo8zkr27p.npy

2021-12-20 15:29:01,866 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:01,866 [7969] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:29:01,872 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:01,872 [7969] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:29:09,110 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:09,109 [7969] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputjjscgemh.npy

2021-12-20 15:29:10,176 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputo8zkr27p.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputjjscgemh.npy
2021-12-20 15:29:10,177 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 7.631, env config: {}

2021-12-20 15:29:11,815 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputnbykczz0.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputwnx_llpl.npy in subproc_run
2021-12-20 15:29:11,815 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputnbykczz0.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputwnx_llpl.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:29:12,972 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:12,972 [8016] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputnbykczz0.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputwnx_llpl.npy']

2021-12-20 15:29:12,973 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:12,972 [8016] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputnbykczz0.npy

2021-12-20 15:29:15,649 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:15,649 [8016] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:29:15,658 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:15,658 [8016] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:29:18,235 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8016#8016] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8016#8016] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:29:20,674 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:20,673 [8016] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputwnx_llpl.npy

2021-12-20 15:29:21,330 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/inputnbykczz0.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_6uedjot__20211220152857/outputwnx_llpl.npy
2021-12-20 15:29:21,331 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.432, env config: {}

2021-12-20 15:29:21,336 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtPlus:{'kind': 'success', 'speedup': 5.327958446147018, 'pre_run_ms': 7.631181070022285, 'post_run_ms': 1.4322898999974132, 'pattern_count': 0}
2021-12-20 15:29:21,373 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TRTEngineOp op has been found, skipped tensorflow's origin tensorrt optimization.
2021-12-20 15:29:21,373 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtFp32:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:21,388 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TRTEngineOp op has been found, skipped tensorflow's origin tensorrt optimization.
2021-12-20 15:29:21,388 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtFp16:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:21,388 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:21,388 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': 5.327958446147018, 'pre_run_ms': 7.631181070022285, 'post_run_ms': 1.4322898999974132, 'pattern_count': 0}
2021-12-20 15:29:21,793 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
2021-12-20 15:29:21,820 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:29:24,029 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Found 0 patterns
2021-12-20 15:29:24,048 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseEmbedding:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:24,077 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] transform: strip_unused_nodes
2021-12-20 15:29:26,107 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStripUnusedNodes:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:28,013 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldConstants:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:28,062 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStaticBilstmOpt:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:28,089 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:29:28,104 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:29:29,901 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:30,207 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:29:30,222 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:29:32,214 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:32,214 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:32,216 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:32,245 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Found 0 optimizable Bilstm op
2021-12-20 15:29:32,246 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfCudnnrnnBilstm:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:32,287 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:29:34,389 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldBatchNorms:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:34,418 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNonMaxSuppressionOpt: total 0 NMS ops replaced with BladeFastNMS ones
2021-12-20 15:29:34,419 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNonMaxSuppressionOpt:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:38,477 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputcpwwqypp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/output8ujk39gt.npy in subproc_run
2021-12-20 15:29:38,478 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputcpwwqypp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/output8ujk39gt.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:29:39,644 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:39,643 [8075] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputcpwwqypp.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/output8ujk39gt.npy']

2021-12-20 15:29:39,645 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:39,644 [8075] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputcpwwqypp.npy

2021-12-20 15:29:42,333 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:42,333 [8075] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:29:42,343 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:42,343 [8075] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:29:44,920 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8075#8075] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8075#8075] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:29:47,381 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:47,380 [8075] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/output8ujk39gt.npy

2021-12-20 15:29:48,038 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputcpwwqypp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/output8ujk39gt.npy
2021-12-20 15:29:48,040 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.435, env config: {}

2021-12-20 15:29:48,508 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy in subproc_run
2021-12-20 15:29:48,508 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:29:49,674 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:49,673 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy']

2021-12-20 15:29:49,674 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:49,674 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy

2021-12-20 15:29:51,527 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:51,527 [8119] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:29:51,530 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:51,530 [8119] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:29:53,049 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:29:54,646 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:54.646245: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.

2021-12-20 15:29:54,741 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Aborted

2021-12-20 15:29:54,741 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 134, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy
2021-12-20 15:29:54,741 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:49,673 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy']
2021-12-20 15:29:49,674 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy
2021-12-20 15:29:51,527 [8119] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:29:51,530 [8119] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:29:54.646245: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:29:54,746 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] optimization pass TfAutoMixedPrecisionGpu_29 failed: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:49,673 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy']
2021-12-20 15:29:49,674 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy
2021-12-20 15:29:51,527 [8119] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:29:51,530 [8119] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:29:54.646245: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
Traceback (most recent call last):
  File "blade/optimization/optimization_pass.py", line 248, in blade.optimization.optimization_pass.CombinedSequence.optimize
  File "blade/optimization/optimization_pass.py", line 70, in blade.optimization.optimization_pass.OptimizationPass._run_optimization_result
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 41, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 68, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/profiling/common_profiler.py", line 60, in blade.profiling.common_profiler.profile
  File "blade/profiling/profiler.py", line 156, in blade.profiling.profiler.Profiler.run
  File "blade/profiling/subproc_profiler.py", line 60, in blade.profiling.subproc_profiler.SubProcProfiler._profile
  File "blade/profiling/subproc_profiler.py", line 49, in blade.profiling.subproc_profiler.subproc_run
blade.errors.BladeInternalError: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:49,673 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/outputob0h228n.npy']
2021-12-20 15:29:49,674 [8119] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_87c3yq8s_20211220152936/inputwlkt8_5x.npy
2021-12-20 15:29:51,527 [8119] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:29:51,530 [8119] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8119#8119] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:29:54.646245: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:29:54,747 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAutoMixedPrecisionGpu:{'kind': 'blade_optimization_pass_exception', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:29:54,763 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Run TfAicompilerGpuPass with config: {'enable': True, 'enable_bace': False, 'enable_control_flow': False, 'optimize_for_static_shape': False, 'optimize_for_dynamic_shape': True, 'enable_eager_compilation': True, 'enable_static_shape_exhausted_fusion': False}
2021-12-20 15:29:56,416 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/input804wrgey.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputqxfs6iev.npy in subproc_run
2021-12-20 15:29:56,417 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/input804wrgey.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputqxfs6iev.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:29:57,611 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:29:57,610 [8165] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/input804wrgey.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputqxfs6iev.npy']

2021-12-20 15:29:57,611 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:29:57,611 [8165] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/input804wrgey.npy

2021-12-20 15:30:00,334 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:00,333 [8165] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:30:00,343 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:00,343 [8165] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:30:02,989 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8165#8165] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8165#8165] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:30:05,511 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:05,511 [8165] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputqxfs6iev.npy

2021-12-20 15:30:06,179 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/input804wrgey.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputqxfs6iev.npy
2021-12-20 15:30:06,180 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.537, env config: {}

2021-12-20 15:30:07,556 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/inputplncsb5f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputkf_fft2d.npy in subproc_run
2021-12-20 15:30:07,556 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/inputplncsb5f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputkf_fft2d.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:30:08,744 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:08,743 [8211] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/inputplncsb5f.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputkf_fft2d.npy']

2021-12-20 15:30:08,744 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:08,743 [8211] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/inputplncsb5f.npy

2021-12-20 15:30:11,476 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:11,475 [8211] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:30:11,485 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:11,485 [8211] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:30:11,561 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:11,561 [8211] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/util/../lib/libtao_ops.so

2021-12-20 15:30:14,076 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8211#8211] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8211#8211] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:30:16,546 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:16,546 [8211] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputkf_fft2d.npy

2021-12-20 15:30:17,204 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/inputplncsb5f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_e0pq5yop_20211220152955/outputkf_fft2d.npy
2021-12-20 15:30:17,206 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.517, env config: {'BRIDGE_ENABLE_TAO': 'true', 'TAO_COMPILER_PATH': '/usr/local/lib/python3.6/dist-packages/blade/util/../lib/tao_compiler_main', 'TAO_COMPILATION_MODE_ASYNC': 'false', 'TAO_ENABLE_MLIR': 'true', 'TAO_MLIR_BRANCH_ONLY': 'true', 'TAO_EXPERIMENTAL_ENABLE_MLIR_WHOLE_GRAPH_COMPILATION': 'true'}

2021-12-20 15:30:17,208 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAicompilerGpu:{'kind': 'performace_failed', 'speedup': 1.0133556214684327, 'pre_run_ms': 1.537190079987049, 'post_run_ms': 1.5169305300340057, 'pattern_count': 0}
2021-12-20 15:30:17,210 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:17,253 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 patterns of LSTM element wise ops
2021-12-20 15:30:17,254 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmElementWiseOps:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->Gather->prod->stack](double=link) patterns by placing on host.
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->GatherV2->prod->stack](double=link) patterns by placing on host.
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->Gather->prod->stack](single-link) patterns by placing on host.
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->GatherV2->prod->stack](single-link) patterns by placing on host.
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimized by moving 0 ops to Host.
2021-12-20 15:30:17,282 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNodePlacement:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:17,297 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Fused Transformer Layernorm ops.
2021-12-20 15:30:18,213 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtLayerNorms:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:18,228 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to Fuse Encoder Attention Pattern.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerEncoderAttention] was found.
2021-12-20 15:30:18,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerEncoderAttention] pattern.
2021-12-20 15:30:18,243 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:30:18,243 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtEncoderAttentions:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:18,257 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Transformer Decoder Attention Pattern.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [GatherNdGatherNd] was found.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [GatherNdGatherNd] pattern.
2021-12-20 15:30:18,270 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [UnpackPackReshape] was found.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [UnpackPackReshape] pattern.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [TransformerDecoderWing] was found.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [TransformerDecoderWing] pattern.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerDecoderAttention] was found.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerDecoderAttention] pattern.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:30:18,271 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [GatherNdGatherNdV1] was found.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [GatherNdGatherNdV1] pattern.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [TransformerDecoderWingV1] was found.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [TransformerDecoderWingV1] pattern.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerDecoderAttentionV1] was found.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerDecoderAttentionV1] pattern.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:30:18,272 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtDecoderAttentions:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:18,287 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize batch matmul ops.
2021-12-20 15:30:19,008 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfOptimizeBatchMatmul:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:22,399 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/input3x6mbo02.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputmmx_pgu5.npy in subproc_run
2021-12-20 15:30:22,399 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/input3x6mbo02.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputmmx_pgu5.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:30:23,559 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:23,558 [8269] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/input3x6mbo02.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputmmx_pgu5.npy']

2021-12-20 15:30:23,560 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:23,559 [8269] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/input3x6mbo02.npy

2021-12-20 15:30:26,235 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:26,234 [8269] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:30:26,244 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:26,244 [8269] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:30:28,813 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8269#8269] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8269#8269] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:30:31,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:31,242 [8269] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputmmx_pgu5.npy

2021-12-20 15:30:31,902 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/input3x6mbo02.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputmmx_pgu5.npy
2021-12-20 15:30:31,904 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.526, env config: {}

2021-12-20 15:30:32,289 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy in subproc_run
2021-12-20 15:30:32,289 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:30:33,448 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:33,447 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy']

2021-12-20 15:30:33,448 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:33,448 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy

2021-12-20 15:30:35,312 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:35,311 [8313] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:30:35,315 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:35,315 [8313] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:30:36,847 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:30:38,462 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:38.462404: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.

2021-12-20 15:30:38,558 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Aborted

2021-12-20 15:30:38,558 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 134, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy
2021-12-20 15:30:38,559 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:33,447 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy']
2021-12-20 15:30:33,448 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy
2021-12-20 15:30:35,311 [8313] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:30:35,315 [8313] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:30:38.462404: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:30:38,564 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] optimization pass TfAutoMixedPrecisionGpu_38 failed: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:33,447 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy']
2021-12-20 15:30:33,448 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy
2021-12-20 15:30:35,311 [8313] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:30:35,315 [8313] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:30:38.462404: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
Traceback (most recent call last):
  File "blade/optimization/optimization_pass.py", line 248, in blade.optimization.optimization_pass.CombinedSequence.optimize
  File "blade/optimization/optimization_pass.py", line 70, in blade.optimization.optimization_pass.OptimizationPass._run_optimization_result
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 41, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 68, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/profiling/common_profiler.py", line 60, in blade.profiling.common_profiler.profile
  File "blade/profiling/profiler.py", line 156, in blade.profiling.profiler.Profiler.run
  File "blade/profiling/subproc_profiler.py", line 60, in blade.profiling.subproc_profiler.SubProcProfiler._profile
  File "blade/profiling/subproc_profiler.py", line 49, in blade.profiling.subproc_profiler.subproc_run
blade.errors.BladeInternalError: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:33,447 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/outputy9ebq_e1.npy']
2021-12-20 15:30:33,448 [8313] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_8jp3wkcw_20211220153020/inputdz3vc_uj.npy
2021-12-20 15:30:35,311 [8313] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:30:35,315 [8313] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8313#8313] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:30:38.462404: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:30:38,565 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAutoMixedPrecisionGpu:{'kind': 'blade_optimization_pass_exception', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:38,565 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:38,565 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:38,567 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:38,570 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:38,666 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfRemoveIdentityN:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:30:41,869 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Performing "/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_input334pr29m.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_outputwo8pk79f.npy"
2021-12-20 15:30:41,869 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_input334pr29m.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_outputwo8pk79f.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 60.0, shell mode: True
2021-12-20 15:30:44,563 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:30:44,562 [8358] [INFO    ] [tf_trt_plus_helper.py:18] Load tf2trt_plus helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_input334pr29m.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_outputwo8pk79f.npy']

2021-12-20 15:30:44,564 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:44,563 [8358] [INFO    ] [tf_trt_plus_helper.py:18] Load tf2trt_plus helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_input334pr29m.npy

2021-12-20 15:30:45,403 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:45,402 [8358] [WARNING ] [tf_trt_plus_helper.py:18] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:30:46,681 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:30:46,681 [8358] [INFO    ] [tf_trt_plus_helper.py:18] Save tf2trt_plus subgraph results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_outputwo8pk79f.npy

2021-12-20 15:30:47,200 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/optimization/gpu_passes/tf_trt_plus_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_input334pr29m.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/Tf2TrtPlus_zr6k5aef_20211220153040/tf2trt_plus_outputwo8pk79f.npy
2021-12-20 15:30:50,131 [7250] [INFO    ] [tfonnx.py:414] Using tensorflow=2.4.0, onnx=1.10.2, tf2onnx=1.9.3/1190aa
2021-12-20 15:30:50,132 [7250] [INFO    ] [tfonnx.py:415] Using opset <onnx, 9>
2021-12-20 15:30:50,755 [7250] [INFO    ] [tf_utils.py:278] Computed 0 values for constant folding
2021-12-20 15:30:52,077 [7250] [INFO    ] [__init__.py:48] Optimizing ONNX model
2021-12-20 15:30:55,134 [7250] [INFO    ] [__init__.py:83] After optimization: BatchNormalization -53 (53->0), Const -160 (268->108), GlobalAveragePool +1 (0->1), Identity -4 (4->0), ReduceMean -1 (1->0), Transpose -221 (222->1)
2021-12-20 15:30:55,157 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Fp16 optimization enabled for tensorrt in Tf2TrtPlus pass
2021-12-20 15:31:25,380 [7250] [WARNING ] [benchmark_simple_blade_resnet50_v1.py:155] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:31:27,617 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputwwr2e57f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/outputubqnq_tb.npy in subproc_run
2021-12-20 15:31:27,618 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputwwr2e57f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/outputubqnq_tb.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:31:28,779 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:31:28,778 [8419] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputwwr2e57f.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/outputubqnq_tb.npy']

2021-12-20 15:31:28,780 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:28,779 [8419] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputwwr2e57f.npy

2021-12-20 15:31:31,077 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:31,076 [8419] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:31:31,083 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:31,083 [8419] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:31:38,449 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:38,449 [8419] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/outputubqnq_tb.npy

2021-12-20 15:31:39,494 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputwwr2e57f.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/outputubqnq_tb.npy
2021-12-20 15:31:39,495 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 7.986, env config: {}

2021-12-20 15:31:41,199 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputaep8wzg4.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/output98ww9rr1.npy in subproc_run
2021-12-20 15:31:41,199 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputaep8wzg4.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/output98ww9rr1.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:31:42,362 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:31:42,361 [8466] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputaep8wzg4.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/output98ww9rr1.npy']

2021-12-20 15:31:42,362 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:42,362 [8466] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputaep8wzg4.npy

2021-12-20 15:31:45,050 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:45,050 [8466] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:31:45,060 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:45,059 [8466] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:31:47,775 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8466#8466] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8466#8466] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:31:50,222 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:31:50,221 [8466] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/output98ww9rr1.npy

2021-12-20 15:31:50,902 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/inputaep8wzg4.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_koqyit45_20211220153126/output98ww9rr1.npy
2021-12-20 15:31:50,903 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.442, env config: {}

2021-12-20 15:31:50,910 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtPlus:{'kind': 'success', 'speedup': 5.536225333111549, 'pre_run_ms': 7.985747830010951, 'post_run_ms': 1.4424535400047898, 'pattern_count': 0}
2021-12-20 15:31:50,966 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TRTEngineOp op has been found, skipped tensorflow's origin tensorrt optimization.
2021-12-20 15:31:50,967 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtFp32:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:50,990 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TRTEngineOp op has been found, skipped tensorflow's origin tensorrt optimization.
2021-12-20 15:31:50,990 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Tf2TrtFp16:{'kind': 'skipped', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:50,990 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:50,991 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': 5.536225333111549, 'pre_run_ms': 7.985747830010951, 'post_run_ms': 1.4424535400047898, 'pattern_count': 0}
2021-12-20 15:31:51,037 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
2021-12-20 15:31:51,065 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:31:53,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Found 0 patterns
2021-12-20 15:31:53,438 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseEmbedding:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:53,484 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] transform: strip_unused_nodes
2021-12-20 15:31:55,781 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStripUnusedNodes:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:58,692 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldConstants:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:58,770 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfStaticBilstmOpt:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:31:58,813 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:31:58,835 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:32:01,119 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:01,142 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Dynamic LSTM ops.
2021-12-20 15:32:01,164 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:32:03,653 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmToCudnnRnn:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:03,653 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:03,655 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:04,117 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Found 0 optimizable Bilstm op
2021-12-20 15:32:04,118 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfCudnnrnnBilstm:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:04,184 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Graph transformations:
['remove_nodes(op=Identity)']
2021-12-20 15:32:06,288 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFoldBatchNorms:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:06,335 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNonMaxSuppressionOpt: total 0 NMS ops replaced with BladeFastNMS ones
2021-12-20 15:32:06,336 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNonMaxSuppressionOpt:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:10,926 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputopll8ctp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output8468ng17.npy in subproc_run
2021-12-20 15:32:10,927 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputopll8ctp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output8468ng17.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:32:12,099 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:12,098 [8525] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputopll8ctp.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output8468ng17.npy']

2021-12-20 15:32:12,099 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:12,099 [8525] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputopll8ctp.npy

2021-12-20 15:32:14,804 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:14,803 [8525] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:32:14,813 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:14,813 [8525] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:32:17,511 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8525#8525] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8525#8525] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:32:19,993 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:19,993 [8525] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output8468ng17.npy

2021-12-20 15:32:20,664 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputopll8ctp.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output8468ng17.npy
2021-12-20 15:32:20,666 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.520, env config: {}

2021-12-20 15:32:21,121 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy in subproc_run
2021-12-20 15:32:21,121 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:32:22,309 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:22,308 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy']

2021-12-20 15:32:22,310 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:22,309 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy

2021-12-20 15:32:24,207 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:24,206 [8570] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:32:24,210 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:24,210 [8570] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:32:25,754 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:32:27,383 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:27.383012: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.

2021-12-20 15:32:27,480 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Aborted

2021-12-20 15:32:27,480 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 134, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy
2021-12-20 15:32:27,481 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:22,308 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy']
2021-12-20 15:32:22,309 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy
2021-12-20 15:32:24,206 [8570] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:32:24,210 [8570] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:32:27.383012: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:32:27,494 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] optimization pass TfAutoMixedPrecisionGpu_60 failed: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:22,308 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy']
2021-12-20 15:32:22,309 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy
2021-12-20 15:32:24,206 [8570] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:32:24,210 [8570] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:32:27.383012: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
Traceback (most recent call last):
  File "blade/optimization/optimization_pass.py", line 248, in blade.optimization.optimization_pass.CombinedSequence.optimize
  File "blade/optimization/optimization_pass.py", line 70, in blade.optimization.optimization_pass.OptimizationPass._run_optimization_result
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 41, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 68, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/profiling/common_profiler.py", line 60, in blade.profiling.common_profiler.profile
  File "blade/profiling/profiler.py", line 156, in blade.profiling.profiler.Profiler.run
  File "blade/profiling/subproc_profiler.py", line 60, in blade.profiling.subproc_profiler.SubProcProfiler._profile
  File "blade/profiling/subproc_profiler.py", line 49, in blade.profiling.subproc_profiler.subproc_run
blade.errors.BladeInternalError: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:22,308 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/output32o3976l.npy']
2021-12-20 15:32:22,309 [8570] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_indva_1b_20211220153209/inputpgi1vstc.npy
2021-12-20 15:32:24,206 [8570] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:32:24,210 [8570] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8570#8570] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:32:27.383012: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:32:27,495 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAutoMixedPrecisionGpu:{'kind': 'blade_optimization_pass_exception', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:27,520 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Run TfAicompilerGpuPass with config: {'enable': True, 'enable_bace': False, 'enable_control_flow': False, 'optimize_for_static_shape': False, 'optimize_for_dynamic_shape': True, 'enable_eager_compilation': True, 'enable_static_shape_exhausted_fusion': False}
2021-12-20 15:32:29,417 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/input3p89pqv5.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/outputkg3s28ch.npy in subproc_run
2021-12-20 15:32:29,417 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/input3p89pqv5.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/outputkg3s28ch.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:32:30,603 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:30,602 [8614] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/input3p89pqv5.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/outputkg3s28ch.npy']

2021-12-20 15:32:30,604 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:30,603 [8614] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/input3p89pqv5.npy

2021-12-20 15:32:33,357 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:33,357 [8614] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:32:33,366 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:33,366 [8614] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:32:36,094 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8614#8614] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8614#8614] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:32:38,543 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:38,543 [8614] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/outputkg3s28ch.npy

2021-12-20 15:32:39,227 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/input3p89pqv5.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/outputkg3s28ch.npy
2021-12-20 15:32:39,229 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.444, env config: {}

2021-12-20 15:32:41,033 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/inputradpy5ry.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/output89wusjxr.npy in subproc_run
2021-12-20 15:32:41,033 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/inputradpy5ry.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/output89wusjxr.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:32:42,206 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:42,205 [8659] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/inputradpy5ry.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/output89wusjxr.npy']

2021-12-20 15:32:42,206 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:42,206 [8659] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/inputradpy5ry.npy

2021-12-20 15:32:44,907 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:44,907 [8659] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:32:44,916 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:44,916 [8659] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:32:44,989 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:44,989 [8659] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/util/../lib/libtao_ops.so

2021-12-20 15:32:47,633 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8659#8659] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8659#8659] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:32:50,129 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:50,129 [8659] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/output89wusjxr.npy

2021-12-20 15:32:50,808 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/inputradpy5ry.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_my9dt2gj_20211220153227/output89wusjxr.npy
2021-12-20 15:32:50,810 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.536, env config: {'BRIDGE_ENABLE_TAO': 'true', 'TAO_COMPILER_PATH': '/usr/local/lib/python3.6/dist-packages/blade/util/../lib/tao_compiler_main', 'TAO_COMPILATION_MODE_ASYNC': 'false', 'TAO_ENABLE_MLIR': 'true', 'TAO_MLIR_BRANCH_ONLY': 'true', 'TAO_EXPERIMENTAL_ENABLE_MLIR_WHOLE_GRAPH_COMPILATION': 'true'}

2021-12-20 15:32:50,814 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAicompilerGpu:{'kind': 'performace_failed', 'speedup': 0.9405346391639702, 'pre_run_ms': 1.4443179200217129, 'post_run_ms': 1.5356350100040437, 'pattern_count': 0}
2021-12-20 15:32:50,817 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:50,887 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 patterns of LSTM element wise ops
2021-12-20 15:32:50,887 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfLstmElementWiseOps:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:50,933 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->Gather->prod->stack](double=link) patterns by placing on host.
2021-12-20 15:32:50,933 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->GatherV2->prod->stack](double=link) patterns by placing on host.
2021-12-20 15:32:50,933 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->Gather->prod->stack](single-link) patterns by placing on host.
2021-12-20 15:32:50,934 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimize 0 [shape->GatherV2->prod->stack](single-link) patterns by placing on host.
2021-12-20 15:32:50,934 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Optimized by moving 0 ops to Host.
2021-12-20 15:32:50,934 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfNodePlacement:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:50,958 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Fused Transformer Layernorm ops.
2021-12-20 15:32:52,310 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtLayerNorms:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:52,334 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to Fuse Encoder Attention Pattern.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerEncoderAttention] was found.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerEncoderAttention] pattern.
2021-12-20 15:32:52,358 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:32:52,359 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtEncoderAttentions:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:52,382 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize Transformer Decoder Attention Pattern.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [GatherNdGatherNd] was found.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [GatherNdGatherNd] pattern.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [UnpackPackReshape] was found.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [UnpackPackReshape] pattern.
2021-12-20 15:32:52,405 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [TransformerDecoderWing] was found.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [TransformerDecoderWing] pattern.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerDecoderAttention] was found.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerDecoderAttention] pattern.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeAttentionReshapeTranspose] was found.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeAttentionReshapeTranspose] pattern.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [Softmax] was found.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [Softmax] pattern.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [GatherNdGatherNdV1] was found.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [GatherNdGatherNdV1] pattern.
2021-12-20 15:32:52,406 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [TransformerDecoderWingV1] was found.
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [TransformerDecoderWingV1] pattern.
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] No candidate pattern for [BladeFusedTransformerDecoderAttentionV1] was found.
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] None Optimization for [BladeFusedTransformerDecoderAttentionV1] pattern.
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Level 2 Optimized 0 Patterns.
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 0
2021-12-20 15:32:52,407 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfFuseNmtDecoderAttentions:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:52,969 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Try to optimize batch matmul ops.
2021-12-20 15:32:54,195 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfOptimizeBatchMatmul:{'kind': 'pattern_matching_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:32:58,528 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputy6e0hcxn.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputitvbqjtz.npy in subproc_run
2021-12-20 15:32:58,529 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputy6e0hcxn.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputitvbqjtz.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:32:59,699 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:32:59,699 [8717] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputy6e0hcxn.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputitvbqjtz.npy']

2021-12-20 15:32:59,700 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:32:59,699 [8717] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputy6e0hcxn.npy

2021-12-20 15:33:02,403 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:02,403 [8717] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:02,412 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:02,412 [8717] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:33:05,124 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8717#8717] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8717#8717] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:33:07,579 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:07,579 [8717] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputitvbqjtz.npy

2021-12-20 15:33:08,240 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputy6e0hcxn.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputitvbqjtz.npy
2021-12-20 15:33:08,242 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.430, env config: {}

2021-12-20 15:33:08,733 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy in subproc_run
2021-12-20 15:33:08,733 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:33:09,901 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:09,900 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy']

2021-12-20 15:33:09,902 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:09,901 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy

2021-12-20 15:33:11,759 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:11,759 [8762] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:11,763 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:11,763 [8762] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:33:13,290 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:33:14,891 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:14.890971: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.

2021-12-20 15:33:14,986 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Aborted

2021-12-20 15:33:14,986 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 134, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy
2021-12-20 15:33:14,987 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:09,900 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy']
2021-12-20 15:33:09,901 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy
2021-12-20 15:33:11,759 [8762] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:33:11,763 [8762] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:33:14.890971: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:33:14,998 [7250] [ERROR   ] [benchmark_simple_blade_resnet50_v1.py:155] optimization pass TfAutoMixedPrecisionGpu_69 failed: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:09,900 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy']
2021-12-20 15:33:09,901 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy
2021-12-20 15:33:11,759 [8762] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:33:11,763 [8762] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:33:14.890971: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
Traceback (most recent call last):
  File "blade/optimization/optimization_pass.py", line 248, in blade.optimization.optimization_pass.CombinedSequence.optimize
  File "blade/optimization/optimization_pass.py", line 70, in blade.optimization.optimization_pass.OptimizationPass._run_optimization_result
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 41, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/optimization/gpu_passes/tf_auto_mixed_precision_gpu.py", line 68, in blade.optimization.gpu_passes.tf_auto_mixed_precision_gpu.TfAutoMixedPrecisionGpu.optimize
  File "blade/profiling/common_profiler.py", line 60, in blade.profiling.common_profiler.profile
  File "blade/profiling/profiler.py", line 156, in blade.profiling.profiler.Profiler.run
  File "blade/profiling/subproc_profiler.py", line 60, in blade.profiling.subproc_profiler.SubProcProfiler._profile
  File "blade/profiling/subproc_profiler.py", line 49, in blade.profiling.subproc_profiler.subproc_run
blade.errors.BladeInternalError: ERROR 2-1-0-1: Run /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy failed with error code 134, logs:
===STDOUT===

===STDERR===
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:09,900 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/outputnpuxbudk.npy']
2021-12-20 15:33:09,901 [8762] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_yxmm1jlp_20211220153256/inputu22m1134.npy
2021-12-20 15:33:11,759 [8762] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops
2021-12-20 15:33:11,763 [8762] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8762#8762] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1
2021-12-20 15:33:14.890971: F /blade_src/blade/custom_ops/trt_engine_op/trt_engine_op.cc:84] Check failed: status.ok() Instantiating native function subgraph_0 failed. Because of: Function subgraph_0 is not defined.
Aborted

===LOG END===
2021-12-20 15:33:14,999 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] TfAutoMixedPrecisionGpu:{'kind': 'blade_optimization_pass_exception', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:33:14,999 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:33:14,999 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'performace_failed', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:33:15,002 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSequence:{'kind': 'success', 'speedup': None, 'pre_run_ms': None, 'post_run_ms': None, 'pattern_count': 0}
2021-12-20 15:33:16,104 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputntae4ncy.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/output7fch9d2n.npy in subproc_run
2021-12-20 15:33:16,104 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputntae4ncy.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/output7fch9d2n.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:33:17,276 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:17,275 [8806] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputntae4ncy.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/output7fch9d2n.npy']

2021-12-20 15:33:17,276 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:17,276 [8806] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputntae4ncy.npy

2021-12-20 15:33:19,593 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:19,592 [8806] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:19,599 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:19,599 [8806] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:33:26,995 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:26,995 [8806] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/output7fch9d2n.npy

2021-12-20 15:33:28,052 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputntae4ncy.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/output7fch9d2n.npy
2021-12-20 15:33:28,053 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 7.708, env config: {}

2021-12-20 15:33:29,681 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputgepynrvc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/outputvd1dza9i.npy in subproc_run
2021-12-20 15:33:29,682 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputgepynrvc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/outputvd1dza9i.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:33:30,847 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:30,846 [8853] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputgepynrvc.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/outputvd1dza9i.npy']

2021-12-20 15:33:30,848 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:30,847 [8853] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputgepynrvc.npy

2021-12-20 15:33:33,546 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:33,546 [8853] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:33,556 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:33,555 [8853] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:33:36,128 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8853#8853] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8853#8853] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:33:38,565 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:38,564 [8853] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/outputvd1dza9i.npy

2021-12-20 15:33:39,232 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/inputgepynrvc.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_rk2nx5fg_20211220153315/outputvd1dza9i.npy
2021-12-20 15:33:39,234 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.426, env config: {}

2021-12-20 15:33:40,332 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputu7a09qb8.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/outputcgc9n9mq.npy in subproc_run
2021-12-20 15:33:40,333 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputu7a09qb8.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/outputcgc9n9mq.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:33:41,517 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:41,516 [8898] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputu7a09qb8.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/outputcgc9n9mq.npy']

2021-12-20 15:33:41,517 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:41,517 [8898] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputu7a09qb8.npy

2021-12-20 15:33:43,889 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:43,889 [8898] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:43,896 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:43,896 [8898] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:33:51,350 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:51,349 [8898] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/outputcgc9n9mq.npy

2021-12-20 15:33:52,419 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputu7a09qb8.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/outputcgc9n9mq.npy
2021-12-20 15:33:52,421 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 7.685, env config: {}

2021-12-20 15:33:54,154 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputum5x4a3d.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/output4u19lgb1.npy in subproc_run
2021-12-20 15:33:54,155 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputum5x4a3d.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/output4u19lgb1.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:33:55,326 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:33:55,325 [8945] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputum5x4a3d.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/output4u19lgb1.npy']

2021-12-20 15:33:55,327 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:55,326 [8945] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputum5x4a3d.npy

2021-12-20 15:33:58,036 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:58,035 [8945] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:33:58,045 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:33:58,045 [8945] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:34:00,747 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8945#8945] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8945#8945] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:34:03,254 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:34:03,254 [8945] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/output4u19lgb1.npy

2021-12-20 15:34:03,916 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/inputum5x4a3d.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_profile_wgscsft4_20211220153339/output4u19lgb1.npy
2021-12-20 15:34:03,917 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.528, env config: {}

2021-12-20 15:34:03,918 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] CombinedSwitch:{'kind': 'success', 'speedup': 5.403551562202558, 'pre_run_ms': 7.708002630025148, 'post_run_ms': 1.426469710022211, 'pattern_count': 0}
2021-12-20 15:34:05,561 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/inputvia8u9d2.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/outputzvi5qw9g.npy in subproc_run
2021-12-20 15:34:05,562 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Execute shell command: `/usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/inputvia8u9d2.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/outputzvi5qw9g.npy`, cwd: /root/inference-optimization-benchmark/blade, timeout: 600.0, shell mode: True
2021-12-20 15:34:06,732 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] /usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
2021-12-20 15:34:06,731 [8989] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: ['/usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/inputvia8u9d2.npy', '/root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/outputzvi5qw9g.npy']

2021-12-20 15:34:06,732 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:34:06,731 [8989] [INFO    ] [subproc_runner_helper.py:9] Load profile helper args from: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/inputvia8u9d2.npy

2021-12-20 15:34:09,426 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:34:09,426 [8989] [WARNING ] [subproc_runner_helper.py:9] failed to import tf_contrib_module_op_def_2_4_0.py on error 'No module named 'blade.model.tf_contrib_module_op_def_2_4_0''. It may meet errors if the input graph contains tf contrib ops

2021-12-20 15:34:09,436 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:34:09,435 [8989] [INFO    ] [subproc_runner_helper.py:9] Loading TF Custom Op:/usr/local/lib/python3.6/dist-packages/blade/lib/libblade_ops.so

2021-12-20 15:34:11,985 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] [INFO] [8989#8989] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:50] Linked TensorRT version: 8.0.1
[INFO] [8989#8989] [/blade_src/blade/tensorrt/bridge/tensorrt_common.cpp:51] Loaded TensorRT version: 8.0.1

2021-12-20 15:34:14,455 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] 2021-12-20 15:34:14,454 [8989] [INFO    ] [subproc_runner_helper.py:9] Save profile helper results to: /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/outputzvi5qw9g.npy

2021-12-20 15:34:15,112 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] retcode: 0, command: /usr/bin/python3 /usr/local/lib/python3.6/dist-packages/blade/profiling/subproc_runner_helper.py /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/inputvia8u9d2.npy /root/inference-optimization-benchmark/blade/20211220152445_g2qbbppo/subproc_run_zfvtgvkt_20211220153403/outputzvi5qw9g.npy
2021-12-20 15:34:15,114 [7250] [INFO    ] [benchmark_simple_blade_resnet50_v1.py:155] Details:
elapsed: 1.528, env config: {}

